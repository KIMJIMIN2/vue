<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>뷰 인스턴스 만들기 & 자바스크립트 클래스(객체와 함수)</title>
    <style>
        table {
            width: 600px;
            margin: 0 auto;
        }

        table td,
        th {
            border: 1px solid#ccc;
            height: 45px;
            text-align: center;
        }

        table#table td:nth-child(2) {
            text-align: left;
        }
    </style>
</head>

<body>
    <h1>리터럴 방식 클래스 인스턴스 만들기</h1>
    <h2>주소부</h2>
    <table id='table'></table>
    <br>
    <hr><br>
    <table id='score'>
        <tr>
            <th>번호</th>
            <th>이름</th>
            <th>국어</th>
            <th>영어</th>
            <th>수학</th>
        </tr>
        <tr>
            <td>1</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
        </tr>
    </table>
    <br>
    <hr><br>
    <table id='tuna'>
        <tr>
            <th>부위</th>
            <th>평점</th>
        </tr>
    </table>
    <script>

        /* 
            var app = {}; // 리터럴 방식
            var app = new Object(); // 생성자 방식
            var app = []; // 리터럴 방식
            var app = new Array(); // 생성자 방식 배열 객체
        */

        var vue = {
            cnt: 0, // 프로퍼티(멤버변수)
            el: '<h1>프로퍼티(멤버변수) 탬플릿</h1>',
            method: ['피자', '닭 칼국수', '김밥', '라면', '토마토 스파게티'],
            main: {
                student: [
                    {
                        번호: 1,
                        이름: '일순신',
                        kor: 100,
                        eng: 90,
                        math: 95
                    },
                    {
                        번호: 2,
                        이름: '이순신',
                        kor: 099,
                        eng: 080,
                        math: 025
                    },
                    {
                        번호: 3,
                        이름: '삼순신',
                        kor: 088,
                        eng: 070,
                        math: 035
                    },
                    {
                        번호: 4,
                        이름: '사순신',
                        kor: 077,
                        eng: 060,
                        math: 035
                    },
                    {
                        번호: 5,
                        이름: '오순신',
                        kor: 066,
                        eng: 050,
                        math: 045
                    }
                ],
                address: [{
                    이름: '일순신', 주소: '서울시 서초구 서초1동'
                },
                {
                    이름: '이순신', 주소: '서울시 서초구 서초2동'
                },
                {
                    이름: '삼순신', 주소: '서울시 서초구 서초3동'
                },
                {
                    이름: '사순신', 주소: '서울시 서초구 서초4동'
                },
                {
                    이름: '오순신', 주소: '서울시 서초구 서초5동'
                }
                ]
            },
            init: function () { // 메소드(멤버함수)
                // this 인스턴스(객체)
                this.cnt = 500;
                this.el += '<h2>프로퍼티(멤버변수)에 내용 추가</h2>'
                console.log(this.cnt);
                console.log(this.el);
            },
            compute: function () {

                // 성적표
                console.log(this.method);
                console.log(this.method[0]);
                console.log(this.method[1]);
                console.log(this.method[2]);
                console.log(this.method[3]);
                console.log(this.method[4]);

                // 주소부
                console.log(this.main.address[3].이름);
                console.log(this.main.address[3].주소);


                console.log(this.main);
                console.log(this.main.student);
                console.log(this.main.student[3]);
                console.log(this.main.student[3].이름);
                console.log(this.main.student[3].eng);
                var tot = this.main.student[3].kor + this.main.student[3].eng + this.main.student[3].math;
                console.log('총점 : ' + tot); // ECMA SCRIPT 5[ES5]
                console.log(`총점 : ${tot}`); // ECMA SCRIPT 6[ES6]

                // 주소부 템플릿에 출력
                // 반복문 이용
                var txt = ''; // 출력 내용 보관하는 변수
                var $table = document.querySelector('#table'); // 선택자

                txt = '<tr><th>이름</th><th>주소</th></tr>' // 제목 1회 출력

                // 5회 반복처리
                this.main.address.forEach(function (el, index, arr) {
                    txt += '<tr><td>' + el.이름 + '</td><td>' + el.주소 + '</td></tr>' // 5회 반복 출력
                    console.log("배열처리", el, index, arr);
                }); // 자바스크립트 객체 배열 처리, forEach(엘리먼트 태그, 인덱스, 배열)

                $table.innerHTML = txt; // 테이블에 데이터 출력

                var txt2 = '';
                var $score = document.querySelector("#score");

                txt2 = '<tr><th>번호</th><th>이름</th><th>국어</th><th>영어</th><th>수학</th></tr>';
                this.main.student.forEach(function (el, index, arr) { // 성적 처리
                    txt2 += '<tr><td>' + el.번호 + '</td><td>' + el.이름 + '</td><td>' + el.kor + '</td><td>' + el.eng + '</td><td>' + el.math + '</td></tr>';
                    console.log('=======test======')
                });


                $score.innerHTML = txt2;

            },
            run: function () { // 인스턴스 전체 실행 메소드
                this.init();
                this.compute();
            }
        } // 인스턴스(객체) 끝

        vue.init(); // vue 인스턴스 내부 init 메소드 실행
        vue.compute(); // vue 인스턴스 내부 compute 메소드 실행

        var objProject1 = {
            a: 100,
            el: 'Vue 프레임워크',
            data: {
                arr1: [
                    {
                        이름: '일순신', kor: 100, eng: 070, math: 065
                    },
                    {
                        이름: '이순신', kor: 100, eng: 070, math: 066
                    },
                    {
                        이름: '삼순신', kor: 100, eng: 070, math: 067
                    },
                    {
                        이름: '사순신', kor: 100, eng: 070, math: 065
                    },
                    {
                        이름: '오순신', kor: 100, eng: 070, math: 064
                    }
                ]
            },
            method1: function () {
                this.a = 5000000;
                console.log(this.a);
            },
            method2: function () {
                this.el += '자바스크립트 라이브러리'
                console.log(this.el);
            },
            method3: function () {
                console.log(this.data);
            },
            init: function () {
                this.method1();
                this.method2();
            }
        };
        objProject1.init();

        // 인스턴스 생성
        // 프로퍼티: 값
        // 프로퍼티 : 배열 
        // 메소드 만들어서 프로퍼티 값을 변환하거나 출력
        // 인스턴스 전체 메소드 init

        var test = {
            a: 300,
            b: '이춘복',
            data: {
                arr1: [
                    {
                        부위: '대뱃살', 평점: '5.0 / 5.0 만점'
                    },
                    {
                        부위: '중뱃살', 평점: '5.0 / 5.0 만점'
                    },
                    {
                        부위: '소뱃살', 평점: '5.0 / 5.0 만점'
                    }
                ]
            },
            init: function () {
                console.log(this.data);
                console.log(this.b);
                console.log("참치는 부위와 상관없이 다 맛있지")

                var text3 = '';
                var $tuna = document.querySelector("#tuna");

                txt3 = '<tr><th>부위</th><th>평점</th></tr>';
                this.data.arr1.forEach(function (el, index, arr) {
                    txt3 += '<tr><td>' + el.부위 + '</td><td>' + el.평점 + '</td></tr>';
                });

                $tuna.innerHTML = txt3;
            }
        }
        test.init();

    </script>
</body>

</html>